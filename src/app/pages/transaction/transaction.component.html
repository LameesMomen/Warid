<div class="row mt-50">
    <div class="col-10">
        <p class="Tajawal-Bold fs-30">المعاملات</p>
    </div>
    <div class="col-2 d-flex justify-content-end">
        <div class="dropdown">
            <button class="dropbtn"><img src="assets/settings-sliders.png" alt="img"></button>
            <div class="dropdown-content">
            <a (click)="filterData('الكل')">الكل</a>
            <a (click)="filterData('بإنتظار الدفع')">بإنتظار الدفع</a>
            <a (click)="filterData('بإنتظار تأكيد الدفع')">بإنتظار تأكيد الدفع</a>
            <a (click)="filterData('مكتمل')">مكتمل</a>
            <a (click)="filterData('منتهي')">منتهي</a>
            <a (click)="filterData('مرفوض')">مرفوض</a>
            </div>
          </div>
    </div>
</div>

<div style="height: max-content;" class="row">
    <div class="col-sm-12 col-md-6 col-lg-3 px-2 my-2" *ngFor="let item of allFilterData?.length ? allFilterData : allData | paginate:{
        itemsPerPage : 8,
        currentPage : page,
        totalItems :  allFilterData?.length ? allFilterData?.length : allData?.length
    }; let i = index ">
        <div class="order-box d-flex flex-column justify-content-between h-100">
            <img width="100%" height="126px" src="{{item.supplier_product_image}}" alt="img">
            <div class="d-flex justify-content-between">
                <p class="Tajawal-Bold fs-20 blue-txt-color my-1">{{item.id}}#</p>
                <p class="Tajawal-Bold fs-20 green-txt-color my-1">{{item.status}}</p>
            </div>
            <p class="Tajawal-Medium fs-20 my-1">{{item.supplier_product}}</p>
            <p class="Tajawal-Bold fs-16 my-1"> <span class="blue-txt-color">العميل : </span>{{item.client}}</p>
            <p class="Tajawal-Bold fs-16 my-1"><span class="blue-txt-color">المورد :</span> {{item.supplier}}</p>

            <a [class.disabled]="item.step == 4 || item.is_expired" routerLink="orders/{{item.id}}" class="btn Tajawal-Medium fs-16 mx-auto">التفاصيل</a>
        </div>
    </div>
</div>

<div *ngIf="autoHidePagination" class="mt-3">
    <pagination-controls 
        [autoHide]="allFilterData?.length ? allFilterData?.length : allData?.length > 8 ? false : true"
        [responsive]="true"
         nextLabel = ">"
        previousLabel ="<"
        (pageChange)="page = $event">
    </pagination-controls>
</div>

<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple"

>
  <p style="font-size: 20px; color: white">جاري التحميل...</p>
</ngx-spinner>
<p-toast position="top-center"></p-toast>